!function(){"use strict";function a(a,b,c){return a&&b&&(a.tz?a=a.tz(b):c.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),a}function b(b,c){return b.module("angularMoment",[]).constant("angularMomentConfig",{timezone:""}).constant("moment",c).constant("amTimeAgoConfig",{withoutSuffix:!1}).directive("amTimeAgo",["$window","moment","amTimeAgoConfig",function(a,c,d){return function(e,f,g){function h(){m&&(a.clearTimeout(m),m=null)}function i(b){f.text(b.fromNow(n));var d=c().diff(b,"minute"),e=3600;1>d?e=1:60>d?e=30:180>d&&(e=300),m=a.setTimeout(function(){i(b)},1e3*e)}function j(){h(),i(c(k,l))}var k,l,m=null,n=d.withoutSuffix;e.$watch(g.amTimeAgo,function(a){return"undefined"==typeof a||null===a||""===a?(h(),void(k&&(f.text(""),k=null))):(b.isNumber(a)&&(a=new Date(a)),k=a,void j())}),b.isDefined(g.amWithoutSuffix)&&e.$watch(g.amWithoutSuffix,function(a){"boolean"==typeof a?(n=a,j()):n=d.withoutSuffix}),g.$observe("amFormat",function(a){l=a,k&&j()}),e.$on("$destroy",function(){h()}),e.$on("amMoment:languageChange",function(){j()})}}]).service("amMoment",["moment","$rootScope",function(a,c){this.changeLanguage=function(d){var e=a.lang(d);return b.isDefined(d)&&c.$broadcast("amMoment:languageChange"),e}}]).filter("amCalendar",["moment","$log","angularMomentConfig",function(b,c,d){return function(e){if("undefined"==typeof e||null===e)return"";!isNaN(parseFloat(e))&&isFinite(e)&&(e=new Date(parseInt(e,10)));var f=b(e);return f.isValid()?a(f,d.timezone,c).calendar():""}}]).filter("amDateFormat",["moment","$log","angularMomentConfig",function(b,c,d){return function(e,f){if("undefined"==typeof e||null===e)return"";!isNaN(parseFloat(e))&&isFinite(e)&&(e=new Date(parseInt(e,10)));var g=b(e);return g.isValid()?a(g,d.timezone,c).format(f):""}}]).filter("amDurationFormat",["moment",function(a){return function(b,c,d){return"undefined"==typeof b||null===b?"":a.duration(b,c).humanize(d)}}])}"function"==typeof define&&define.amd?define("angular-moment",["angular","moment"],b):b(angular,window.moment)}();